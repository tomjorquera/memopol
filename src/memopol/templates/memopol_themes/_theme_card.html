{% load i18n %}
{% load fontawesome %}

<div class="col-xs-12 col-md-{{ cols|default:4 }} theme-card">
  <div class="thumbnail">
    <a href="{% url 'theme-detail' slug=theme.slug %}" class="custom-thumbnail custom-invisible">
    <div class="row">

      <div class="col-xs-12">
        <h4 class="text-center">{{Â theme.name }}</h4>

        {# Double div needed for ellipsis to work #}
        <div class="description ellipsis"><div>{{ theme.description|truncatewords:20 }}</div></div>

        <div class="info-container">
          <div class="badge-container">
            {% if theme.nb_links > 0 %}
              <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="{% trans 'Links' %}">
                {% fontawesome_icon "link" %}
                <span class="badge">{{ theme.nb_links }}</span>
              </span>
            {% endif %}

            {% if theme.nb_dossiers > 0 %}
              <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="{% trans 'Dossiers' %}">
                {% fontawesome_icon "book" %}
                <span class="badge">{{ theme.nb_dossiers }}</span>
              </span>
            {% endif %}

            {% if theme.nb_proposals > 0 %}
              <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="{% trans 'Proposals' %}">
                {% fontawesome_icon "pencil" %}
                <span class="badge">{{ theme.nb_proposals }}</span>
              </span>
            {% endif %}

            {% if theme.nb_positions > 0 %}
              <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="{% trans 'Public positions' %}">
                {% fontawesome_icon "comment" %}
                <span class="badge">{{ theme.nb_positions }}</span>
              </span>
            {% endif %}
          </div>
          <div class="chart-container">
          </div>
        </div>
      </div>
    </div>
    </a>
  </div>
</div>